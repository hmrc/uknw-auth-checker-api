meta {
  name: 200-500-Eori
  type: http
  seq: 3
}

post {
  url: {{apiEndpoint}}
  body: json
  auth: none
}

headers {
  Accept: application/vnd.hmrc.1.0+json
  Authorization: {{bearerToken}}
}

body:json {
  {
    "eoris": [
      "GB702601139907",
      "GB305827433009",
      "XI569274482382127",
      "GB823797040419",
      "XI777849853217",
      "XI789846947365",
      "XI357011494986629",
      "XI285454673506",
      "XI149016980551455",
      "GB589381027655060",
      "XI534690280150221",
      "XI963665493735",
      "XI766572079641",
      "XI714597793184457",
      "GB318054272651147",
      "XI130561030969374",
      "GB990892213020",
      "XI426102349182750",
      "GB099014188833242",
      "XI210109511599",
      "XI949349657288",
      "XI926752024124646",
      "GB472291417642058",
      "GB961112249357970",
      "GB013815307229014",
      "GB119090292186571",
      "XI485592408260",
      "XI139461969956652",
      "XI027866128444",
      "GB492437168703",
      "GB518282641708942",
      "XI851112158184591",
      "XI615922278770",
      "XI529180388935",
      "GB964121845023",
      "XI897573598830",
      "GB640796601169",
      "GB412268634455497",
      "GB227854148633974",
      "XI388579403332",
      "XI304737971537001",
      "GB525935765740759",
      "GB217351719036",
      "XI927756160611736",
      "GB142936755510",
      "XI216356781173",
      "XI824385048554333",
      "XI966845275249487",
      "GB139476006748061",
      "GB442911889564",
      "XI966855200250",
      "GB753144116188",
      "XI360338185129961",
      "GB864905813165838",
      "GB262689444343549",
      "GB905775090723",
      "GB692130757988",
      "GB673401594735",
      "XI140588991474008",
      "XI654762232604865",
      "XI013286079091",
      "XI848155764992820",
      "GB599599627874601",
      "GB154847153127",
      "XI704179883989",
      "GB919901537854389",
      "GB761316704269769",
      "GB390058840638329",
      "XI460045890798",
      "GB231805364245257",
      "XI965151551335",
      "GB859513682229641",
      "GB237315157551343",
      "GB685479722525978",
      "XI819250777082",
      "GB277936072687",
      "XI213044636764",
      "GB887938361354",
      "XI001963248381058",
      "XI256891169061",
      "XI943617806417",
      "GB418750880069",
      "XI324690244130",
      "GB660922115340",
      "GB592226641435201",
      "XI556818173216941",
      "GB051768011273",
      "XI079091132165035",
      "XI584726435472642",
      "GB784957996903",
      "XI665909800549",
      "XI181364973040",
      "GB531780269523527",
      "GB563044905044",
      "GB333250878791829",
      "XI183828160767",
      "GB904482849489",
      "GB477026947245266",
      "XI389664001176",
      "XI906876713836868",
      "XI873873345934",
      "GB654550224170",
      "GB013167849751",
      "GB443266165447",
      "XI471502501748068",
      "GB056887407081",
      "GB626165589855389",
      "GB360074930375",
      "XI259616780581465",
      "XI029438212089975",
      "XI414246593867197",
      "XI517235125863",
      "GB309691416107751",
      "XI325039726282564",
      "GB052510097192252",
      "XI036530855059296",
      "XI505148118422224",
      "XI526209580186520",
      "GB780033675988458",
      "GB912519415086",
      "XI928689488375",
      "GB457745076422",
      "GB984387497847865",
      "GB479195205985",
      "GB784727683614",
      "XI063752469975",
      "GB220243559155480",
      "XI138798715500565",
      "XI344781031557069",
      "GB370725141916000",
      "XI404487614897",
      "XI054896135300624",
      "GB489615433009814",
      "GB981977169366",
      "GB129902840038",
      "GB994428766787",
      "GB107499245209996",
      "GB137036277262578",
      "GB837819821853501",
      "XI501782468412",
      "GB809745760228259",
      "XI117104080771453",
      "GB679976791559119",
      "XI524630929615",
      "XI624445091117977",
      "GB569385290405",
      "XI232287838643",
      "GB338630140225",
      "XI158545869477",
      "XI299301580162",
      "GB490501543108151",
      "XI067835519024332",
      "GB158438706132496",
      "GB770743259008",
      "XI982240420740925",
      "XI632488538845058",
      "XI116890297960",
      "GB340568860409",
      "XI763047505224",
      "GB550130708630",
      "GB386994756143",
      "XI504815265275",
      "GB127288538270631",
      "GB618017992319",
      "XI114336063408",
      "XI634902700216754",
      "GB779541078341379",
      "GB505352991798849",
      "GB538877728385",
      "GB641242468035",
      "XI089090151512",
      "XI426316824912",
      "GB891318175512957",
      "GB404012399199",
      "XI970715869021",
      "XI518471886230350",
      "GB017480014035485",
      "GB505346358357",
      "GB288245454690610",
      "XI359233967764101",
      "GB208132935004",
      "XI267958641618",
      "XI233404558035",
      "XI242873326377236",
      "XI373072361408084",
      "XI974904822675",
      "GB089666283879833",
      "GB418728197711",
      "XI825046115994533",
      "XI211295382932",
      "GB291376902490",
      "XI527466322795050",
      "GB649345025088",
      "XI598680268489",
      "XI685690369727239",
      "XI235497287902073",
      "XI178939344981",
      "XI049279409342842",
      "GB148100423007517",
      "XI141161772409989",
      "GB095986446896681",
      "GB964263012474858",
      "XI001201893532",
      "XI197201210478214",
      "XI343436850945551",
      "GB954256333597",
      "GB576365366046",
      "GB254961958686",
      "XI893341173394798",
      "XI107173088276",
      "XI701750060429435",
      "GB306444756877174",
      "GB391799262635007",
      "XI850431855513113",
      "GB030298091104533",
      "XI852189522194",
      "XI615554805695",
      "XI955855255248",
      "GB422072032396",
      "XI849625730143322",
      "XI629708015717",
      "XI476287830427",
      "XI722938276883",
      "GB707581657977656",
      "GB147631296431392",
      "GB550951268517624",
      "XI567777909395141",
      "XI057363583182",
      "XI234396368432302",
      "GB911418939026",
      "XI275506886268200",
      "XI976923893203",
      "XI515514479565",
      "GB518559336646",
      "GB372592370492",
      "XI854736436327",
      "XI263956174476779",
      "GB736799290408034",
      "XI540531410506374",
      "XI931614729610",
      "XI491803064626",
      "GB742691539979",
      "XI476441913331286",
      "XI863009148046915",
      "GB526867309894964",
      "GB784105879442872",
      "GB368083951614636",
      "XI522301564679",
      "GB181336726849489",
      "XI173818466150",
      "GB960780967314",
      "GB480651176830",
      "GB633589272540645",
      "GB511867928615461",
      "GB703725146286",
      "GB661646688112687",
      "XI173133969795",
      "XI796675979605183",
      "XI619240280244508",
      "GB727544960175",
      "XI881134271976",
      "XI984236103700769",
      "XI968841532158",
      "XI034067471700",
      "XI605160387917",
      "GB419611934750",
      "XI617158465321167",
      "XI549148360244",
      "GB014230552293934",
      "XI938794641788",
      "GB329403621427",
      "GB705533941168",
      "GB105234576836",
      "GB450987183531",
      "XI842566051897",
      "XI123232181227",
      "GB019740882611",
      "XI690955965490899",
      "GB609869429758848",
      "XI356012367184",
      "XI568281794719907",
      "GB754758186935",
      "GB225123358495892",
      "XI618882902592",
      "GB252043697035",
      "GB231784660797",
      "XI984579974860860",
      "GB447637907710",
      "XI008019135160",
      "XI141449239091311",
      "XI039770453177",
      "XI442380339452",
      "XI341787540636158",
      "GB287178429582",
      "GB188448638072195",
      "XI408487462633",
      "XI347928221672",
      "GB345043173668315",
      "XI889739401623577",
      "XI229085373625",
      "GB148294175825",
      "XI337260787742",
      "GB260149353914180",
      "GB443737779976",
      "XI703192599803803",
      "XI146208596839217",
      "GB068296267661213",
      "XI551681579638347",
      "XI488774174212",
      "XI066131701670486",
      "XI317258557187326",
      "XI148669314147",
      "XI837955227097756",
      "GB453285928977042",
      "GB047887715053115",
      "GB863604816372331",
      "GB933978640020695",
      "XI958424545874232",
      "GB291773958397",
      "XI621694170808",
      "XI192381829399230",
      "GB495267939437",
      "XI018857406373",
      "XI892362122175",
      "GB287773206865",
      "GB842237115046156",
      "GB245939611981",
      "GB825422392748894",
      "XI064896872844971",
      "XI112737071611",
      "XI782908977975",
      "XI521171289387452",
      "GB837819055389819",
      "XI872920077962742",
      "GB455679536766",
      "XI869144461262",
      "GB004352487952",
      "GB598776961701183",
      "GB851138597672572",
      "GB938903306928",
      "GB212646586892",
      "GB177546377043410",
      "XI192804105860887",
      "XI899098068711",
      "XI529074450462643",
      "GB996734591678",
      "XI933876289249",
      "XI502454327936725",
      "XI553937110979363",
      "XI646238857413410",
      "GB515535685288035",
      "GB145582780853",
      "GB533819563019916",
      "XI992208763181",
      "GB287001772458",
      "XI759634306183151",
      "GB459650465414",
      "GB883646345794",
      "GB605289701734361",
      "XI871501020235465",
      "GB960323600356",
      "GB707720909090048",
      "XI381552411589683",
      "GB920095133475",
      "GB483723668978497",
      "GB595466235027",
      "XI686536039138",
      "XI221582741982086",
      "GB668907971104",
      "XI197514880322",
      "GB044840822325238",
      "GB243397499550",
      "XI661524506072647",
      "XI327101703758",
      "XI760574196420",
      "XI248939928068995",
      "GB986615873475473",
      "XI660147931101896",
      "GB333585425210276",
      "XI741789061230",
      "GB853944827479427",
      "GB481545869491",
      "XI369324752122626",
      "GB859822616627",
      "XI249746864087718",
      "GB173699329749",
      "GB061213538844",
      "XI449414870640",
      "GB701317111110642",
      "GB999153278345",
      "XI908522256159",
      "XI520847057527123",
      "XI769044886101",
      "XI875574841200134",
      "GB460164962592",
      "XI460868032546",
      "GB087344694927635",
      "XI843880265882",
      "XI729833388353817",
      "GB916385334794859",
      "GB296024285186",
      "GB844598176607041",
      "GB132510283451",
      "GB669983372893",
      "GB203244156713",
      "GB134571447885",
      "GB668155972558519",
      "GB042116801909447",
      "XI942845613836",
      "XI751497524077",
      "GB882292887800441",
      "GB927937457743898",
      "GB502778244426708",
      "XI921816448674",
      "GB346872632650706",
      "XI402307041275",
      "GB059957545039759",
      "XI848987941268464",
      "XI168392768245396",
      "XI491994385582044",
      "XI556084342301",
      "XI944123585609",
      "XI848435913236490",
      "XI305644342168892",
      "GB693536237407",
      "XI054315817950457",
      "XI272227729316898",
      "GB697705962824587",
      "GB596176664708455",
      "XI426295824053",
      "GB138133221243",
      "GB856500067564",
      "GB002702662615",
      "GB461909810820",
      "GB884835314775",
      "XI344324393539713",
      "XI248756100689",
      "XI697504957124",
      "GB760723842624",
      "GB976311655354432",
      "XI753438702443507",
      "GB762556971291642",
      "XI011412436802685",
      "GB795678642406296",
      "GB571268617495700",
      "XI173664702715351",
      "XI288161632299",
      "GB244126042802775",
      "GB809114023925168",
      "GB298150758393",
      "GB483383662173674",
      "XI677870984072893",
      "XI511394061097204",
      "GB505897149745",
      "XI367881886555",
      "XI212042453971",
      "GB450436927196925",
      "XI631932636098",
      "GB902209798276724",
      "XI909029398257375",
      "XI181063100492485",
      "GB298827470598",
      "GB462381582144393",
      "XI955282029603248",
      "XI784009537260",
      "XI355682594481",
      "XI679267257502339",
      "GB079736054873",
      "GB173249523087109",
      "XI582855704530417",
      "GB057170971058",
      "GB553785762632",
      "GB278918527775",
      "XI551996865218",
      "XI206024176125373",
      "GB424262578580",
      "XI712627850263833",
      "GB854208629997",
      "XI527775451059",
      "GB344145463154989",
      "XI646399386761220",
      "GB029336251184401",
      "XI699439447535",
      "XI699315025215419",
      "GB699859903315",
      "XI600545282110966",
      "XI660929424490381",
      "GB630817203266881",
      "XI241931397606719",
      "XI678522045372127",
      "XI223360408115",
      "GB711986846347404",
      "XI604369857675496",
      "XI654694742145",
      "XI797767164108",
      "XI316726993821121",
      "GB508007275755686",
      "XI673731589882293",
      "XI902364966873",
      "XI212123823418"
    ]
  }
}

tests {
  test("should have only 500 EORI results", function() {
    const data = res.getBody();
    expect(res.getStatus()).to.equal(200);
    expect(data.eoris).to.be.an('array').that.has.lengthOf(500);
  });
  
  test("all EORI results should be unauthorised", function() {
    const data = res.getBody();
    data.eoris.map(json => expect(json.authorised).to.equal(false))
  });
  test("confirm Date Format", function() {
     var currentDate = new Date();
      currentDate
      .setUTCHours(0,0,0,0);
     var timestamp = 
  currentDate.toISOString().replace(".000", '.00');
    const data = res.getBody();
  expect(res.body.date).to.equal(timestamp);
  });
}
