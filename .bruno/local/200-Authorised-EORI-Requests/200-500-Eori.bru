meta {
  name: 200-500-Eori
  type: http
  seq: 3
}

post {
  url: {{apiEndpoint}}
  body: json
  auth: none
}

headers {
  Accept: application/vnd.hmrc.1.0+json
  Authorization: {{bearerToken}}
}

body:json {
  {
    "eoris": [
      "GB837826880909874",
      "XI968840631629",
      "XI436105828614",
      "XI670738444417",
      "XI299090776708",
      "XI991478748583180",
      "GB664747832914",
      "GB845942880618380",
      "GB698422523946525",
      "XI424550299466",
      "GB944107196831",
      "XI876202322763652",
      "XI954761792185551",
      "XI705873897754",
      "XI030464530763",
      "GB138229072434544",
      "XI561521218783",
      "XI699827953498",
      "GB431532672087862",
      "XI640240976078",
      "XI408336968703",
      "XI742317271854664",
      "XI841304534177",
      "GB309300799199",
      "GB140092105275",
      "XI357938833012732",
      "GB577424947156",
      "XI841143849679",
      "GB624649849435",
      "GB821821795945",
      "GB475921266211",
      "GB660300023882813",
      "XI003832169847",
      "XI898696064248948",
      "GB492173103999",
      "XI573892547589",
      "XI230831573600",
      "XI682344031863",
      "XI088229765020030",
      "GB782131496702929",
      "GB124970092366",
      "GB335483467127",
      "GB036993338795",
      "XI449942151287",
      "GB365306171681",
      "XI734509611077138",
      "GB119670224151482",
      "GB376866666400867",
      "GB570715621581292",
      "XI730703614441144",
      "XI650198741653388",
      "XI356696292037275",
      "XI708904026536994",
      "XI435424552777668",
      "XI893149358658",
      "GB810622300678",
      "XI557610732511565",
      "GB879548754208844",
      "GB780667310068430",
      "GB119963948581344",
      "GB649668154393",
      "GB852119447564",
      "GB092471628037464",
      "XI055798951184",
      "XI595802316137908",
      "XI681293477192",
      "GB896941670136026",
      "XI963981555380037",
      "GB763762672745456",
      "XI129625272204",
      "GB489368005793681",
      "XI812762182757",
      "GB711064714192363",
      "GB971742220663",
      "GB539893161127",
      "XI727565701749956",
      "XI636147707092592",
      "XI383248179771",
      "XI135002416807",
      "GB948565160964611",
      "GB820524750043069",
      "XI575849603197726",
      "GB770586054777",
      "XI492505045911133",
      "GB075406471265",
      "GB391225207780939",
      "XI548723096609",
      "XI937139805916652",
      "XI900928638421920",
      "GB749710340815",
      "XI837681218325",
      "GB477675817676546",
      "XI362449949012803",
      "XI933033098459466",
      "XI960868133158",
      "XI687406506384",
      "GB222094101854766",
      "GB379793480517",
      "GB432244008576",
      "XI155546345776323",
      "XI502874322510380",
      "XI711488835358",
      "XI865475051135",
      "XI231338526038",
      "XI045256116618146",
      "GB129630690458338",
      "GB776024586901",
      "GB582466113967",
      "XI744270908366472",
      "XI061933612009469",
      "GB954488538491919",
      "GB655026724489",
      "GB979694293010106",
      "XI212430914441",
      "GB028308885491",
      "GB015918068832",
      "XI798703185574170",
      "GB733269938192215",
      "GB974982857044",
      "XI777810620277642",
      "GB189557844369703",
      "XI102437406320",
      "XI603240768068349",
      "XI088608374574083",
      "XI604913556644",
      "GB116689224715995",
      "XI346975269461",
      "GB691219319937048",
      "GB683100992868599",
      "GB220315375377",
      "GB307722380221663",
      "GB415367308950942",
      "GB466468528465",
      "GB040413351129339",
      "XI381820820379",
      "XI605402299994637",
      "XI719548911958381",
      "XI212206880372159",
      "GB855657926822337",
      "XI969501832089",
      "GB226671497519718",
      "XI045310162890",
      "GB878956015290012",
      "XI090600085596215",
      "GB055569598559",
      "XI612711935978188",
      "XI549521475362",
      "XI147853198502",
      "GB201851898287",
      "GB454607607408315",
      "XI776068612167",
      "XI001879973729",
      "XI243412870745155",
      "GB018099340046",
      "GB992697819786102",
      "GB469807620138876",
      "XI305767490511386",
      "XI161585968067",
      "XI094461928136236",
      "GB062936988318",
      "XI223408402021125",
      "XI268896731848",
      "XI166546104013",
      "XI238785401435",
      "GB761123251349",
      "XI579999689614451",
      "GB956562658018912",
      "GB761787425001623",
      "GB502528921190807",
      "XI008906692468311",
      "XI932838478471110",
      "GB651062862267954",
      "GB599502589142765",
      "XI010701745237205",
      "XI867392354349811",
      "XI545944512924",
      "GB906064124707723",
      "XI323483586752",
      "XI227532411158115",
      "GB564414143207",
      "GB823702028201",
      "GB640357099396776",
      "XI493839224740",
      "GB152301789203",
      "GB079681699075625",
      "XI728342978881789",
      "GB890952032377",
      "XI734249329432",
      "GB096400505323",
      "XI129933070287498",
      "GB552863004661",
      "GB625267910684",
      "XI885704244829",
      "GB076367697378590",
      "GB045303694411",
      "XI497842359695",
      "XI250899289690",
      "XI889129911488920",
      "GB836242580176",
      "GB728104431700",
      "GB987665511361",
      "GB371749490889113",
      "XI810540520274676",
      "XI005761784401573",
      "GB086825218759",
      "XI658814838511",
      "GB112958800442",
      "XI072005197473",
      "XI954245329251267",
      "XI555040471470214",
      "XI049192394827454",
      "XI785508552605",
      "GB574745918956724",
      "GB358880386217",
      "GB556946047482648",
      "GB687064500687973",
      "XI197941939899",
      "XI970486661495",
      "GB097050127184185",
      "GB885915831826368",
      "XI694790353130515",
      "GB955448157723942",
      "GB734505439198",
      "XI797478387479",
      "GB066735277669580",
      "XI869758969677",
      "XI938674161522005",
      "GB537185431886765",
      "XI002672172218649",
      "GB172615592561",
      "GB116048314147807",
      "XI673064344867",
      "GB972442923470",
      "GB446888755806969",
      "GB977547245331642",
      "XI172207993783065",
      "GB523806517264143",
      "XI613645140782",
      "XI391635926817",
      "XI143983467633",
      "XI294047166381",
      "GB484596530129",
      "GB926514794247",
      "GB900715589703504",
      "GB730577338524035",
      "XI805791999009",
      "XI746303142275",
      "GB344771705543299",
      "GB601897058380285",
      "GB383727006331",
      "XI690371217421651",
      "XI851357436451099",
      "GB225058007961",
      "GB923754131218",
      "GB225964157694",
      "XI442240254197",
      "GB821843601016374",
      "XI456452204799",
      "GB888345177504",
      "GB619727076506506",
      "XI306315708340044",
      "XI136925728632865",
      "XI334860357521311",
      "XI508929859687",
      "GB057906543211330",
      "GB983133953418",
      "GB374855838505",
      "GB511518997206968",
      "GB611665809475",
      "XI453053770703554",
      "GB566277278211",
      "GB818007208773",
      "GB835420646884",
      "XI723975574679450",
      "GB347687753914724",
      "GB385022084659688",
      "XI163208439891",
      "GB282628097288574",
      "XI578236900352084",
      "GB767207514299",
      "XI790242850949",
      "XI957616303136",
      "XI579128291497933",
      "XI386547748443",
      "GB774566619923",
      "GB579251046846",
      "XI557864627368",
      "XI835705910151116",
      "GB594233221671",
      "XI885535647659",
      "GB956800453623996",
      "XI767181836482129",
      "XI602859367484",
      "GB015668262594",
      "GB787664867630",
      "GB668581700697441",
      "XI679117857458",
      "XI354077632640",
      "GB919226191357444",
      "GB992154091220",
      "XI123604683850726",
      "XI585324356857",
      "XI620739079734",
      "XI186751255983",
      "XI939070473360122",
      "GB484781480467",
      "GB861443486108411",
      "XI850822340761333",
      "GB468212619377343",
      "GB410375874644719",
      "XI246079279061",
      "GB775276020528",
      "XI031995461580",
      "XI514594884125821",
      "XI359604583584",
      "XI452887225880200",
      "XI376395555820839",
      "XI592339647940",
      "XI253812946409",
      "GB898862988594",
      "GB585797125929",
      "GB574122359745538",
      "XI798242097394291",
      "GB906338562801974",
      "GB932382904065533",
      "GB650988436939",
      "XI255068547211721",
      "XI183603196022",
      "XI631352300634802",
      "GB216630471834152",
      "GB914081713150",
      "XI312914427992",
      "XI472280013306300",
      "GB144093894266",
      "XI135035506778340",
      "XI201903741455699",
      "XI617898248162489",
      "GB073296799246",
      "GB400727363584263",
      "XI024697202658",
      "GB753278414778737",
      "GB473535526802",
      "XI151485414941862",
      "GB665408757016510",
      "XI964037502360",
      "GB992692280526",
      "GB534563444664",
      "GB946186981273689",
      "GB474870898116289",
      "XI193128587606545",
      "GB637143131596",
      "XI565322647233",
      "GB787052174481453",
      "XI786469432472",
      "GB532831273067",
      "GB238247466959",
      "GB132548712088",
      "XI308361256659727",
      "XI821205853220844",
      "XI891891462419414",
      "GB856777282385445",
      "XI878371989048834",
      "GB786891480296",
      "XI252894466050",
      "GB763898513788",
      "XI555756063508291",
      "GB666696572281908",
      "GB811337404923",
      "GB648439632978535",
      "XI007739698257261",
      "XI242070929439",
      "GB973253146525763",
      "GB530419480989420",
      "XI367092475649265",
      "XI483354090439234",
      "XI522369541943852",
      "XI809129170506",
      "GB227066702323",
      "GB530857524621",
      "GB499743610001030",
      "XI265513974352",
      "XI606360624353215",
      "GB860453466587739",
      "GB821423401689",
      "GB990856057539",
      "XI174615347058329",
      "GB373619097466",
      "GB679426707731185",
      "GB517317437002397",
      "GB078635390717982",
      "XI085070558600417",
      "XI030851954770",
      "XI668312789859365",
      "GB593501325940968",
      "GB867611278407473",
      "XI129636386473702",
      "GB084949193498",
      "XI676041571491",
      "XI762493189706",
      "GB040730648197494",
      "GB595499230217947",
      "GB629538633261259",
      "XI851116607924",
      "GB506452225936419",
      "XI885926295503994",
      "GB062922120842",
      "XI183959290878",
      "XI211917523138062",
      "XI183069457975",
      "XI727132788394045",
      "GB894791483447549",
      "XI808617800417343",
      "GB863814325458",
      "XI096030006717",
      "GB066526920252",
      "XI662640692424",
      "GB075049337185",
      "GB433986066258",
      "XI130558876056728",
      "XI316669658220936",
      "XI202177660432",
      "GB819381266537",
      "XI026621150606647",
      "XI380253995995476",
      "XI026430545352",
      "GB408465263512959",
      "GB324743522081300",
      "XI969055883772",
      "GB694588437190269",
      "XI651792811380268",
      "XI947302008702",
      "XI909830294387457",
      "GB328009461123",
      "GB912366653345256",
      "XI658379816216",
      "XI385742693773",
      "XI266813335463",
      "GB980548155929286",
      "GB310673534825430",
      "GB167237763785908",
      "GB908943652463",
      "XI369662559957",
      "GB653041228415",
      "GB965176627437",
      "GB014146767045",
      "GB987119478945290",
      "GB769225130379909",
      "GB643182852896066",
      "GB411211987406",
      "XI476413232733",
      "GB664984691319453",
      "GB121961931737",
      "XI069630775337205",
      "XI441080204881",
      "GB371494444513",
      "GB539522786118716",
      "GB952255586630",
      "XI571758148564",
      "XI012458856213719",
      "XI163786800786",
      "XI598877610356",
      "GB013158759629",
      "GB133735496398",
      "GB637299771601",
      "XI664954487602",
      "XI799748897237000",
      "XI708890337487",
      "XI778288533694",
      "XI103318470391259",
      "XI624944380899345",
      "GB830340017357414",
      "GB287943469295449",
      "XI128841411690203",
      "XI623047993665205",
      "XI708002329536",
      "XI016491254863853",
      "XI911279444713",
      "GB742751231665678",
      "GB074987412632369",
      "GB670096860809485",
      "GB800423287206936",
      "GB979411620646",
      "XI497726895321",
      "XI560264518383877",
      "XI553436734807",
      "GB448590097622",
      "GB940173080351005",
      "XI227868147375",
      "GB281200473160",
      "GB096091352337834",
      "XI759406222953853",
      "XI637952513131",
      "GB014251932033547",
      "XI496210574880",
      "XI985617057607692",
      "XI896641516634207",
      "GB301219577417",
      "XI236737982796",
      "XI259039275319",
      "GB777762113627186"
    ]
  }
}

tests {
  test("should have only 500 EORI results", function() {
    const data = res.getBody();
    expect(res.getStatus()).to.equal(200);
    expect(data.eoris).to.be.an('array').that.has.lengthOf(500);
  });
  
  test("all EORI results should be authorised", function() {
    const data = res.getBody();
    data.eoris.map(json => expect(json.authorised).to.equal(true))
  });
  test("confirm Date Format", function() {
     var currentDate = new Date();
      currentDate
      .setUTCHours(0,0,0,0);
     var timestamp = 
  currentDate.toISOString().replace(".000", '.00');
    const data = res.getBody();
  expect(res.body.date).to.equal(timestamp);
  });
}
